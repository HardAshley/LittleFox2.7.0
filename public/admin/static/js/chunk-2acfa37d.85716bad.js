(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2acfa37d"],{4142:function(e,t,a){"use strict";a("495c")},"495c":function(e,t,a){},7424:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":e.switchTab},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("el-tab-pane",{attrs:{label:e._f("lang")("系统配置"),name:"system"}},[e.form?a("el-form",{ref:"systemForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e._f("lang")("系统名称"),prop:"system_title"}},[a("el-input",{attrs:{placeholder:e._f("lang")("系统标题"),size:"small"},model:{value:e.form["system_title"],callback:function(t){e.$set(e.form,"system_title",t)},expression:"form['system_title']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("后台logo"),prop:"system_logo"}},[a("el-input",{attrs:{placeholder:e._f("lang")("输入图片地址或上传图片"),size:"small"},model:{value:e.form["system_logo"],callback:function(t){e.$set(e.form,"system_logo",t)},expression:"form['system_logo']"}}),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"system_logo"},"http-request":e.uploadImage,"show-file-list":!1,multiple:!1}},[e.form["system_logo"]?a("img",{staticClass:"avatar",staticStyle:{height:"50px",width:"auto"},attrs:{src:e.form["system_logo"]}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"210px",height:"50px","line-height":"50px"}})]),a("span",[e._v(e._s(e._f("lang")("210x50像素")))])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1),a("el-tab-pane",{attrs:{label:e._f("lang")("AI参数配置"),name:"chatgpt"}},[a("div",{staticStyle:{width:"800px"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:e._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"chatgpt"===e.tabName&&e.form?a("el-form",{ref:"chatgptForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:e._f("lang")("接口通道"),prop:"channel"}},[e.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:e.form["channel"],callback:function(t){e.$set(e.form,"channel",t)},expression:"form['channel']"}},e._l(e.aiList,(function(t){return e.isGpt4(t.name)?e._e():a("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.title))])})),1):e._e()],1),e.aiChecked&&e.aiChecked.length>0?a("el-form-item",{attrs:{label:e._f("lang")("已选")}},[e._l(e.aiChecked,(function(t){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[e._v(e._s(t))])})),e.aiChecked.includes("GPT-3.5")?a("p",{staticStyle:{"margin-top":"10px"}},[e._v(e._s(e._f("lang")("GPT-3.5是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):e._e()],2):e._e(),a("el-form-item",{attrs:{label:e._f("lang")("新用户免费送"),prop:"free_num"}},[a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("对话次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:e.form["free_num"],callback:function(t){e.$set(e.form,"free_num",t)},expression:"form['free_num']"}}),e._v(" "+e._s(e._f("lang")("条"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("绘画次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:e.form["free_num_draw"],callback:function(t){e.$set(e.form,"free_num_draw",t)},expression:"form['free_num_draw']"}}),e._v(" "+e._s(e._f("lang")("张"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("高级版字数"))+" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.form["free_num_gpt4"],callback:function(t){e.$set(e.form,"free_num_gpt4",t)},expression:"form['free_num_gpt4']"}}),e._v(" "+e._s(e._f("lang")("万字"))+" ")],1)]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1)]),a("el-tab-pane",{attrs:{label:e._f("lang")("高级版AI配置"),name:"gpt4"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:e._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"gpt4"===e.tabName&&e.form?a("el-form",{ref:"gpt4Form",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:e._f("lang")("GPT4开关"),prop:"is_open"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form["is_open"],callback:function(t){e.$set(e.form,"is_open",t)},expression:"form['is_open']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("接口通道"),prop:"channel"}},[e.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:e.form["channel"],callback:function(t){e.$set(e.form,"channel",t)},expression:"form['channel']"}},e._l(e.aiList,(function(t){return e.isGpt4(t.name)?a("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.title))]):e._e()})),1):e._e()],1),e.aiChecked&&e.aiChecked.length>0?a("el-form-item",{attrs:{label:e._f("lang")("已选")}},[e._l(e.aiChecked,(function(t){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[e._v(e._s(t))])})),e.aiChecked.includes("GPT-4")?a("p",{staticStyle:{"margin-top":"10px"}},[e._v(e._s(e._f("lang")("GPT-4是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):e._e()],2):e._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1),a("el-tab-pane",{attrs:{label:e._f("lang")("AI语音对话"),name:"speech"}},[e.form?a("el-form",{ref:"speechForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e._f("lang")("功能开关"),prop:"is_open"}},[a("el-radio-group",{model:{value:e.form["is_open"],callback:function(t){e.$set(e.form,"is_open",t)},expression:"form['is_open']"}},[a("el-radio",{staticStyle:{"margin-right":"20px"},attrs:{label:1,size:"mini"}},[e._v(e._s(e._f("lang")("开启")))]),a("el-radio",{attrs:{label:0,size:"mini"}},[e._v(e._s(e._f("lang")("关闭")))])],1)],1),1===e.form.is_open?a("div",[a("el-form-item",{attrs:{label:e._f("lang")("语音接口"),prop:"channel"}},[a("el-radio-group",{model:{value:e.form["channel"],callback:function(t){e.$set(e.form,"channel",t)},expression:"form['channel']"}},[a("el-radio",{staticStyle:{margin:"0 20px 5px 0"},attrs:{label:"baidu",size:"mini"}},[e._v(e._s(e._f("lang")("百度")))]),a("el-radio",{staticStyle:{margin:"0 20px 5px 0"},attrs:{label:"xunfei",size:"mini",disabled:""}},[e._v(e._s(e._f("lang")("讯飞")))]),a("el-radio",{staticStyle:{margin:"0 20px 5px 0"},attrs:{label:"tencent",size:"mini",disabled:""}},[e._v(e._s(e._f("lang")("腾讯云")))]),a("el-radio",{staticStyle:{margin:"0 20px 5px 0"},attrs:{label:"openai3",size:"mini",disabled:""}},[e._v(e._s(e._f("lang")("Whisper")))])],1),"openai3"===e.form["channel"]?a("p",[e._v(e._s(e._f("lang")("使用的是GPT3.5的配置")))]):e._e()],1),"baidu"===e.form["channel"]?a("div",[a("el-form-item",{attrs:{label:"ApiKey",prop:"baidu_apikey"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:e._f("lang")("填入百度应用的API Key"),size:"small"},model:{value:e.form.baidu_apikey,callback:function(t){e.$set(e.form,"baidu_apikey",t)},expression:"form.baidu_apikey"}})],1),a("el-form-item",{attrs:{label:"SecretKey",prop:"baidu_secretkey"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:e._f("lang")("填入百度应用的Secret Key"),size:"small"},model:{value:e.form.baidu_secretkey,callback:function(t){e.$set(e.form,"baidu_secretkey",t)},expression:"form.baidu_secretkey"}}),a("p",{staticStyle:{"margin-top":"10px"}},[e._v(" 开通 "),a("a",{staticClass:"text-primary",attrs:{href:"https://console.ttk.ink/api.php/link/ai/name/asr_baidu",target:"_blank"}},[e._v(e._s(e._f("lang")("语音识别"))+" "),a("i",{staticClass:"el-icon-link"})]),e._v(" 和 "),a("a",{staticClass:"text-primary",attrs:{href:"https://console.ttk.ink/api.php/link/ai/name/tts_baidu",target:"_blank"}},[e._v(e._s(e._f("lang")("语音合成"))+" "),a("i",{staticClass:"el-icon-link"})]),e._v("，并在控制台创建应用 ")])],1),a("el-form-item",{attrs:{label:"语速",prop:"baidu_spd"}},[a("div",{staticStyle:{width:"300px",padding:"0 5px"}},[a("el-slider",{attrs:{min:0,max:15,marks:{5:"默认5"}},model:{value:e.form.baidu_spd,callback:function(t){e.$set(e.form,"baidu_spd",t)},expression:"form.baidu_spd"}})],1)]),a("el-form-item",{attrs:{label:"音调",prop:"baidu_pit"}},[a("div",{staticStyle:{width:"300px",padding:"0 5px 10px 5px"}},[a("el-slider",{attrs:{min:0,max:15,marks:{5:"默认5"}},model:{value:e.form.baidu_pit,callback:function(t){e.$set(e.form,"baidu_pit",t)},expression:"form.baidu_pit"}})],1)]),a("el-form-item",{attrs:{label:"语音库",prop:"baidu_per"}},[a("div",{staticStyle:{width:"300px",padding:"0 5px 10px 5px"}},[a("el-select",{attrs:{size:"normal"},model:{value:e.form.baidu_per,callback:function(t){e.$set(e.form,"baidu_per",t)},expression:"form.baidu_per"}},[a("el-option-group",{attrs:{label:"基础音库"}},[a("el-option",{attrs:{label:"度小宇-成熟男声",value:"1"}}),a("el-option",{attrs:{label:"度逍遥-磁性男声",value:"3"}}),a("el-option",{attrs:{label:"度小美-成熟女声",value:"0"}}),a("el-option",{attrs:{label:"度丫丫-可爱女童",value:"4"}})],1),a("el-option-group",{attrs:{label:"精品音库"}},[a("el-option",{attrs:{label:"度逍遥-磁性男声",value:"5003"}}),a("el-option",{attrs:{label:"度小鹿-甜美女声",value:"5118"}}),a("el-option",{attrs:{label:"度博文-情感男声",value:"106"}}),a("el-option",{attrs:{label:"度小童-活泼女童",value:"110"}}),a("el-option",{attrs:{label:"度小萌-可爱女童",value:"111"}}),a("el-option",{attrs:{label:"度米朵-可爱女童",value:"103"}}),a("el-option",{attrs:{label:"度小娇-情感女声",value:"5"}})],1)],1)],1)])],1):e._e()],1):e._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1),a("el-tab-pane",{attrs:{label:e._f("lang")("支付配置"),name:"pay"}},[e.form?a("el-form",{ref:"payForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e._f("lang")("商户号"),prop:"mch_id"}},[a("el-input",{attrs:{placeholder:e._f("lang")("微信商户号"),size:"small"},model:{value:e.form["mch_id"],callback:function(t){e.$set(e.form,"mch_id",t)},expression:"form['mch_id']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("Api_v2密钥"),prop:"key"}},[a("el-input",{attrs:{placeholder:e._f("lang")("微信商户号v2密钥"),size:"small"},model:{value:e.form["key"],callback:function(t){e.$set(e.form,"key",t)},expression:"form['key']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("cert证书")}},[a("el-upload",{attrs:{action:"",data:{type:"cert"},"before-upload":e.uploadPemCheck,"http-request":e.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e._f("lang")("选择文件")))])],1),e.form.apiclient_cert?a("span",{staticClass:"upload_status"},[e._v(e._s(e._f("lang")("已上传")))]):e._e()],1),a("el-form-item",{attrs:{label:e._f("lang")("key证书")}},[a("el-upload",{attrs:{action:"",data:{type:"key"},"before-upload":e.uploadPemCheck,"http-request":e.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e._f("lang")("选择文件")))])],1),e.form.apiclient_key?a("span",{staticClass:"upload_status"},[e._v(e._s(e._f("lang")("已上传")))]):e._e()],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1)],1)],1)},i=[],s=(a("a7fa"),a("d3da"),a("c565"),a("c9c8"),a("f17d"),a("b5aa"),a("90e7")),r=a("91b6"),n={data:function(){return{tabName:"system",form:null,aiList:[{name:"wenxin",title:"文心一言"},{name:"openai3",title:"GPT-3.5"},{name:"azure_openai3",title:"Azure GPT-3.5"},{name:"xunfei",title:"讯飞星火"},{name:"tongyi",title:"通义千问"},{name:"hunyuan",title:"腾讯混元"},{name:"zhipu",title:"智谱AI"},{name:"minimax",title:"MiniMax"},{name:"lxai",title:"灵犀AI"},{name:"chatglm",title:"ChatGLM"},{name:"openllm",title:"OpenLLM"},{name:"localai",title:"LocalAI"},{name:"wenxin4",title:"文心一言4.0"},{name:"azure_openai4",title:"Azure GPT-4"},{name:"openai4",title:"GPT-4"},{name:"claude2",title:"Claude2"}],formRules:{channel:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],model:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],is_open:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],mch_id:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],key:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],baidu_apikey:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],baidu_secretkey:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],baidu_spd:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],baidu_pit:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],baidu_per:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}]}}},computed:{aiChecked:function(){var e=this,t=[];return this.form&&this.form.channel&&this.form.channel.forEach((function(a){e.aiList.forEach((function(e){e.name===a&&t.push(e.title)}))})),t}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var e=this;Object(s["a"])({name:this.tabName}).then((function(t){e.form=t.data,"chatgpt"!==e.tabName&&"gpt4"!==e.tabName||e.form.channel||(e.form.channel=[])}))},switchTab:function(){this.getSetting()},doSubmit:function(){var e=this,t=null;"system"===this.tabName?t=this.$refs.systemForm:"pay"===this.tabName?t=this.$refs.payForm:"chatgpt"===this.tabName?t=this.$refs.chatgptForm:"gpt4"===this.tabName?t=this.$refs.gpt4Form:"speech"===this.tabName&&(t=this.$refs.speechForm),t&&t.validate((function(t){t?Object(s["c"])({name:e.tabName,data:JSON.stringify(e.form)}).then((function(t){e.getSetting(),e.$message.success(t.message)})):e.$message.error(e.$lang("请填写必填项"))}))},uploadImage:function(e){var t=this,a=new FormData;a.append("file",e.file),e.data&&a.append("data",JSON.stringify(e.data)),Object(r["a"])(a).then((function(a){t.$set(t.form,e.data.type,a.data.path),t.$message.success(t.$lang("上传成功"))}))},uploadPemCheck:function(e){if("pem"!==e.name.substr(-3))return this.$message({showClose:!0,message:"请上传后缀为.pem的证书文件",type:"warning"}),!1},uploadPem:function(e){var t=this,a=new FormData;a.append("file",e.file),e.data&&a.append("data",JSON.stringify(e.data)),Object(r["b"])(a).then((function(a){"cert"===e.data.type?t.$set(t.form,"apiclient_cert",a.data):"key"===e.data.type&&t.$set(t.form,"apiclient_key",a.data),t.$message.success(t.$lang("上传成功"))}))},isGpt4:function(e){return["openai4","azure_openai4","wenxin4","claude2"].includes(e)}}},o=n,m=(a("a967"),a("4142"),a("76b2")),p=Object(m["a"])(o,l,i,!1,null,"1d62eaae",null);t["default"]=p.exports},"90e7":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return r}));var l=a("b775");function i(e){return Object(l["a"])({url:"/setting/getSetting",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/setting/setSetting",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/setting/getSkinList",method:"post",data:e})}},"91b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var l=a("b775");function i(e){return Object(l["a"])({url:"/upload/image",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/upload/pem",method:"post",data:e})}},a967:function(e,t,a){"use strict";a("fd3e")},fd3e:function(e,t,a){}}]);