(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8ac5ca2"],{"647f":function(t,e,a){},7424:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":t.switchTab},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[a("el-tab-pane",{attrs:{label:t._f("lang")("系统配置"),name:"system"}},[t.form?a("el-form",{ref:"systemForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:t._f("lang")("系统名称"),prop:"system_title"}},[a("el-input",{attrs:{placeholder:t._f("lang")("系统标题"),size:"small"},model:{value:t.form["system_title"],callback:function(e){t.$set(t.form,"system_title",e)},expression:"form['system_title']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("后台logo"),prop:"system_logo"}},[a("el-input",{attrs:{placeholder:t._f("lang")("输入图片地址或上传图片"),size:"small"},model:{value:t.form["system_logo"],callback:function(e){t.$set(t.form,"system_logo",e)},expression:"form['system_logo']"}}),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"system_logo"},"http-request":t.uploadImage,"show-file-list":!1,multiple:!1}},[t.form["system_logo"]?a("img",{staticClass:"avatar",staticStyle:{height:"50px",width:"auto"},attrs:{src:t.form["system_logo"]}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"210px",height:"50px","line-height":"50px"}})]),a("span",[t._v(t._s(t._f("lang")("210x50像素")))])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1),a("el-tab-pane",{attrs:{label:t._f("lang")("AI参数配置"),name:"chatgpt"}},[a("div",{staticStyle:{width:"800px"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:t._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"chatgpt"===t.tabName&&t.form?a("el-form",{ref:"chatgptForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:t._f("lang")("接口通道"),prop:"channel"}},[t.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:t.form["channel"],callback:function(e){t.$set(t.form,"channel",e)},expression:"form['channel']"}},t._l(t.aiList,(function(e){return t.isGpt4(e.name)?t._e():a("el-checkbox",{attrs:{label:e.name}},[t._v(t._s(e.title))])})),1):t._e()],1),t.aiChecked&&t.aiChecked.length>0?a("el-form-item",{attrs:{label:t._f("lang")("已选")}},[t._l(t.aiChecked,(function(e){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[t._v(t._s(e))])})),t.aiChecked.includes("GPT-3.5")?a("p",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("lang")("GPT-3.5是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):t._e()],2):t._e(),a("el-form-item",{attrs:{label:t._f("lang")("新用户免费送"),prop:"free_num"}},[a("p",{staticStyle:{padding:"5px 0"}},[t._v(" "+t._s(t._f("lang")("对话次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:t.form["free_num"],callback:function(e){t.$set(t.form,"free_num",e)},expression:"form['free_num']"}}),t._v(" "+t._s(t._f("lang")("条"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[t._v(" "+t._s(t._f("lang")("绘画次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:t.form["free_num_draw"],callback:function(e){t.$set(t.form,"free_num_draw",e)},expression:"form['free_num_draw']"}}),t._v(" "+t._s(t._f("lang")("张"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[t._v(" "+t._s(t._f("lang")("高级版字数"))+" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.form["free_num_gpt4"],callback:function(e){t.$set(t.form,"free_num_gpt4",e)},expression:"form['free_num_gpt4']"}}),t._v(" "+t._s(t._f("lang")("万字"))+" ")],1)]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1)]),a("el-tab-pane",{attrs:{label:t._f("lang")("高级版AI配置"),name:"gpt4"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:t._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"gpt4"===t.tabName&&t.form?a("el-form",{ref:"gpt4Form",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:t._f("lang")("GPT4开关"),prop:"is_open"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.form["is_open"],callback:function(e){t.$set(t.form,"is_open",e)},expression:"form['is_open']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("接口通道"),prop:"channel"}},[t.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:t.form["channel"],callback:function(e){t.$set(t.form,"channel",e)},expression:"form['channel']"}},t._l(t.aiList,(function(e){return t.isGpt4(e.name)?a("el-checkbox",{attrs:{label:e.name}},[t._v(t._s(e.title))]):t._e()})),1):t._e()],1),t.aiChecked&&t.aiChecked.length>0?a("el-form-item",{attrs:{label:t._f("lang")("已选")}},[t._l(t.aiChecked,(function(e){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[t._v(t._s(e))])})),t.aiChecked.includes("GPT-4")?a("p",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t._f("lang")("GPT-4是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):t._e()],2):t._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1),a("el-tab-pane",{attrs:{label:t._f("lang")("支付配置"),name:"pay"}},[t.form?a("el-form",{ref:"payForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:t._f("lang")("商户号"),prop:"mch_id"}},[a("el-input",{attrs:{placeholder:t._f("lang")("微信商户号"),size:"small"},model:{value:t.form["mch_id"],callback:function(e){t.$set(t.form,"mch_id",e)},expression:"form['mch_id']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("Api_v2密钥"),prop:"key"}},[a("el-input",{attrs:{placeholder:t._f("lang")("微信商户号v2密钥"),size:"small"},model:{value:t.form["key"],callback:function(e){t.$set(t.form,"key",e)},expression:"form['key']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("cert证书")}},[a("el-upload",{attrs:{action:"",data:{type:"cert"},"before-upload":t.uploadPemCheck,"http-request":t.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t._f("lang")("选择文件")))])],1),t.form.apiclient_cert?a("span",{staticClass:"upload_status"},[t._v(t._s(t._f("lang")("已上传")))]):t._e()],1),a("el-form-item",{attrs:{label:t._f("lang")("key证书")}},[a("el-upload",{attrs:{action:"",data:{type:"key"},"before-upload":t.uploadPemCheck,"http-request":t.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t._f("lang")("选择文件")))])],1),t.form.apiclient_key?a("span",{staticClass:"upload_status"},[t._v(t._s(t._f("lang")("已上传")))]):t._e()],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1)],1)],1)},n=[],i=(a("a7fa"),a("d3da"),a("c565"),a("c9c8"),a("f17d"),a("b5aa"),a("90e7")),s=a("91b6"),r={data:function(){return{tabName:"system",form:null,aiList:[{name:"wenxin",title:"文心一言"},{name:"openai3",title:"GPT-3.5"},{name:"azure_openai3",title:"Azure GPT-3.5"},{name:"xunfei",title:"讯飞星火"},{name:"tongyi",title:"通义千问"},{name:"hunyuan",title:"腾讯混元"},{name:"zhipu",title:"智谱AI"},{name:"minimax",title:"MiniMax"},{name:"lxai",title:"灵犀AI"},{name:"chatglm",title:"ChatGLM"},{name:"openllm",title:"OpenLLM"},{name:"localai",title:"LocalAI"},{name:"wenxin4",title:"文心一言4.0"},{name:"azure_openai4",title:"Azure GPT-4"},{name:"openai4",title:"GPT-4"},{name:"claude2",title:"Claude2"}],formRules:{channel:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],model:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],is_open:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],mch_id:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],key:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}]}}},computed:{aiChecked:function(){var t=this,e=[];return this.form&&this.form.channel&&this.form.channel.forEach((function(a){t.aiList.forEach((function(t){t.name===a&&e.push(t.title)}))})),e}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var t=this;Object(i["c"])({name:this.tabName}).then((function(e){t.form=e.data,"chatgpt"!==t.tabName&&"gpt4"!==t.tabName||t.form.channel||(t.form.channel=[])}))},switchTab:function(){this.getSetting()},doSubmit:function(){var t=this,e=null;"system"===this.tabName?e=this.$refs.systemForm:"pay"===this.tabName?e=this.$refs.payForm:"chatgpt"===this.tabName?e=this.$refs.chatgptForm:"gpt4"===this.tabName&&(e=this.$refs.gpt4Form),e&&e.validate((function(e){e?Object(i["e"])({name:t.tabName,data:JSON.stringify(t.form)}).then((function(e){t.getSetting(),t.$message.success(e.message)})):t.$message.error(t.$lang("请填写必填项"))}))},uploadImage:function(t){var e=this,a=new FormData;a.append("file",t.file),t.data&&a.append("data",JSON.stringify(t.data)),Object(s["a"])(a).then((function(a){e.$set(e.form,t.data.type,a.data.path),e.$message.success(e.$lang("上传成功"))}))},uploadPemCheck:function(t){if("pem"!==t.name.substr(-3))return this.$message({showClose:!0,message:"请上传后缀为.pem的证书文件",type:"warning"}),!1},uploadPem:function(t){var e=this,a=new FormData;a.append("file",t.file),t.data&&a.append("data",JSON.stringify(t.data)),Object(s["b"])(a).then((function(a){"cert"===t.data.type?e.$set(e.form,"apiclient_cert",a.data):"key"===t.data.type&&e.$set(e.form,"apiclient_key",a.data),e.$message.success(e.$lang("上传成功"))}))},isGpt4:function(t){return["openai4","azure_openai4","wenxin4","claude2"].includes(t)}}},o=r,m=(a("d745"),a("c62b"),a("76b2")),c=Object(m["a"])(o,l,n,!1,null,"570aa166",null);e["default"]=c.exports},"90e7":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"e",(function(){return i})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return o}));var l=a("b775");function n(t){return Object(l["a"])({url:"/setting/getSetting",method:"post",data:t})}function i(t){return Object(l["a"])({url:"/setting/setSetting",method:"post",data:t})}function s(t){return Object(l["a"])({url:"/setting/getBalance",method:"post",data:t})}function r(t){return Object(l["a"])({url:"/setting/getLxaiBalance",method:"post",data:t})}function o(t){return Object(l["a"])({url:"/setting/getSkinList",method:"post",data:t})}},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var l=a("b775");function n(t){return Object(l["a"])({url:"/upload/image",method:"post",data:t})}function i(t){return Object(l["a"])({url:"/upload/pem",method:"post",data:t})}},a325:function(t,e,a){},c62b:function(t,e,a){"use strict";a("a325")},d745:function(t,e,a){"use strict";a("647f")}}]);