(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8ac5ca2"],{"647f":function(e,t,a){},7424:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":e.switchTab},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("el-tab-pane",{attrs:{label:e._f("lang")("系统配置"),name:"system"}},[e.form?a("el-form",{ref:"systemForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e._f("lang")("系统名称"),prop:"system_title"}},[a("el-input",{attrs:{placeholder:e._f("lang")("系统标题"),size:"small"},model:{value:e.form["system_title"],callback:function(t){e.$set(e.form,"system_title",t)},expression:"form['system_title']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("后台logo"),prop:"system_logo"}},[a("el-input",{attrs:{placeholder:e._f("lang")("输入图片地址或上传图片"),size:"small"},model:{value:e.form["system_logo"],callback:function(t){e.$set(e.form,"system_logo",t)},expression:"form['system_logo']"}}),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"system_logo"},"http-request":e.uploadImage,"show-file-list":!1,multiple:!1}},[e.form["system_logo"]?a("img",{staticClass:"avatar",staticStyle:{height:"50px",width:"auto"},attrs:{src:e.form["system_logo"]}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"210px",height:"50px","line-height":"50px"}})]),a("span",[e._v(e._s(e._f("lang")("210x50像素")))])],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1),a("el-tab-pane",{attrs:{label:e._f("lang")("AI参数配置"),name:"chatgpt"}},[a("div",{staticStyle:{width:"800px"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:e._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"chatgpt"===e.tabName&&e.form?a("el-form",{ref:"chatgptForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:e._f("lang")("接口通道"),prop:"channel"}},[e.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:e.form["channel"],callback:function(t){e.$set(e.form,"channel",t)},expression:"form['channel']"}},e._l(e.aiList,(function(t){return e.isGpt4(t.name)?e._e():a("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.title))])})),1):e._e()],1),e.aiChecked&&e.aiChecked.length>0?a("el-form-item",{attrs:{label:e._f("lang")("已选")}},[e._l(e.aiChecked,(function(t){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[e._v(e._s(t))])})),e.aiChecked.includes("GPT-3.5")?a("p",{staticStyle:{"margin-top":"10px"}},[e._v(e._s(e._f("lang")("GPT-3.5是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):e._e()],2):e._e(),a("el-form-item",{attrs:{label:e._f("lang")("新用户免费送"),prop:"free_num"}},[a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("对话次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:e.form["free_num"],callback:function(t){e.$set(e.form,"free_num",t)},expression:"form['free_num']"}}),e._v(" "+e._s(e._f("lang")("条"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("绘画次数"))+" "),a("el-input",{staticStyle:{width:"116px"},attrs:{size:"small"},model:{value:e.form["free_num_draw"],callback:function(t){e.$set(e.form,"free_num_draw",t)},expression:"form['free_num_draw']"}}),e._v(" "+e._s(e._f("lang")("张"))+" ")],1),a("p",{staticStyle:{padding:"5px 0"}},[e._v(" "+e._s(e._f("lang")("高级版字数"))+" "),a("el-input",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:e.form["free_num_gpt4"],callback:function(t){e.$set(e.form,"free_num_gpt4",t)},expression:"form['free_num_gpt4']"}}),e._v(" "+e._s(e._f("lang")("万字"))+" ")],1)]),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1)]),a("el-tab-pane",{attrs:{label:e._f("lang")("高级版AI配置"),name:"gpt4"}},[a("el-alert",{staticStyle:{width:"800px","margin-top":"20px"},attrs:{type:"info",title:e._f("lang")("说明：先在【AI通道】设置参数，然后在【key池】配置相应的key")}}),"gpt4"===e.tabName&&e.form?a("el-form",{ref:"gpt4Form",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"160px"}},[a("el-form-item",{attrs:{label:e._f("lang")("GPT4开关"),prop:"is_open"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form["is_open"],callback:function(t){e.$set(e.form,"is_open",t)},expression:"form['is_open']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("接口通道"),prop:"channel"}},[e.form["channel"]?a("el-checkbox-group",{staticClass:"radio-group",model:{value:e.form["channel"],callback:function(t){e.$set(e.form,"channel",t)},expression:"form['channel']"}},e._l(e.aiList,(function(t){return e.isGpt4(t.name)?a("el-checkbox",{attrs:{label:t.name}},[e._v(e._s(t.title))]):e._e()})),1):e._e()],1),e.aiChecked&&e.aiChecked.length>0?a("el-form-item",{attrs:{label:e._f("lang")("已选")}},[e._l(e.aiChecked,(function(t){return a("el-tag",{staticStyle:{margin:"0 10px 10px 0"}},[e._v(e._s(t))])})),e.aiChecked.includes("GPT-4")?a("p",{staticStyle:{"margin-top":"10px"}},[e._v(e._s(e._f("lang")("GPT-4是国外接口，国内不允许使用，注意法律风险，禁止非法运营")))]):e._e()],2):e._e(),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1),a("el-tab-pane",{attrs:{label:e._f("lang")("支付配置"),name:"pay"}},[e.form?a("el-form",{ref:"payForm",staticStyle:{padding:"30px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:e._f("lang")("商户号"),prop:"mch_id"}},[a("el-input",{attrs:{placeholder:e._f("lang")("微信商户号"),size:"small"},model:{value:e.form["mch_id"],callback:function(t){e.$set(e.form,"mch_id",t)},expression:"form['mch_id']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("Api_v2密钥"),prop:"key"}},[a("el-input",{attrs:{placeholder:e._f("lang")("微信商户号v2密钥"),size:"small"},model:{value:e.form["key"],callback:function(t){e.$set(e.form,"key",t)},expression:"form['key']"}})],1),a("el-form-item",{attrs:{label:e._f("lang")("cert证书")}},[a("el-upload",{attrs:{action:"",data:{type:"cert"},"before-upload":e.uploadPemCheck,"http-request":e.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e._f("lang")("选择文件")))])],1),e.form.apiclient_cert?a("span",{staticClass:"upload_status"},[e._v(e._s(e._f("lang")("已上传")))]):e._e()],1),a("el-form-item",{attrs:{label:e._f("lang")("key证书")}},[a("el-upload",{attrs:{action:"",data:{type:"key"},"before-upload":e.uploadPemCheck,"http-request":e.uploadPem,"show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e._f("lang")("选择文件")))])],1),e.form.apiclient_key?a("span",{staticClass:"upload_status"},[e._v(e._s(e._f("lang")("已上传")))]):e._e()],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doSubmit}},[e._v(e._s(e._f("lang")("保 存")))])],1)],1):e._e()],1)],1)],1)},n=[],i=(a("a7fa"),a("d3da"),a("c565"),a("c9c8"),a("f17d"),a("b5aa"),a("90e7")),s=a("91b6"),r={data:function(){return{tabName:"system",form:null,aiList:[{name:"wenxin",title:"文心一言"},{name:"openai3",title:"GPT-3.5"},{name:"azure_openai3",title:"Azure GPT-3.5"},{name:"xunfei",title:"讯飞星火"},{name:"tongyi",title:"通义千问"},{name:"hunyuan",title:"腾讯混元"},{name:"zhipu",title:"智谱AI"},{name:"minimax",title:"MiniMax"},{name:"lxai",title:"灵犀AI"},{name:"chatglm",title:"ChatGLM"},{name:"openllm",title:"OpenLLM"},{name:"localai",title:"LocalAI"},{name:"wenxin4",title:"文心一言4.0"},{name:"azure_openai4",title:"Azure GPT-4"},{name:"openai4",title:"GPT-4"},{name:"claude2",title:"Claude2"}],formRules:{channel:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],model:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],is_open:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],mch_id:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}],key:[{required:!0,message:this.$lang("此项必填"),trigger:"blur"}]}}},computed:{aiChecked:function(){var e=this,t=[];return this.form&&this.form.channel&&this.form.channel.forEach((function(a){e.aiList.forEach((function(e){e.name===a&&t.push(e.title)}))})),t}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var e=this;Object(i["a"])({name:this.tabName}).then((function(t){e.form=t.data,"chatgpt"!==e.tabName&&"gpt4"!==e.tabName||e.form.channel||(e.form.channel=[])}))},switchTab:function(){this.getSetting()},doSubmit:function(){var e=this,t=null;"system"===this.tabName?t=this.$refs.systemForm:"pay"===this.tabName?t=this.$refs.payForm:"chatgpt"===this.tabName?t=this.$refs.chatgptForm:"gpt4"===this.tabName&&(t=this.$refs.gpt4Form),t&&t.validate((function(t){t?Object(i["c"])({name:e.tabName,data:JSON.stringify(e.form)}).then((function(t){e.getSetting(),e.$message.success(t.message)})):e.$message.error(e.$lang("请填写必填项"))}))},uploadImage:function(e){var t=this,a=new FormData;a.append("file",e.file),e.data&&a.append("data",JSON.stringify(e.data)),Object(s["a"])(a).then((function(a){t.$set(t.form,e.data.type,a.data.path),t.$message.success(t.$lang("上传成功"))}))},uploadPemCheck:function(e){if("pem"!==e.name.substr(-3))return this.$message({showClose:!0,message:"请上传后缀为.pem的证书文件",type:"warning"}),!1},uploadPem:function(e){var t=this,a=new FormData;a.append("file",e.file),e.data&&a.append("data",JSON.stringify(e.data)),Object(s["b"])(a).then((function(a){"cert"===e.data.type?t.$set(t.form,"apiclient_cert",a.data):"key"===e.data.type&&t.$set(t.form,"apiclient_key",a.data),t.$message.success(t.$lang("上传成功"))}))},isGpt4:function(e){return["openai4","azure_openai4","wenxin4","claude2"].includes(e)}}},o=r,m=(a("d745"),a("c62b"),a("76b2")),c=Object(m["a"])(o,l,n,!1,null,"570aa166",null);t["default"]=c.exports},"90e7":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var l=a("b775");function n(e){return Object(l["a"])({url:"/setting/getSetting",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/setting/setSetting",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/setting/getSkinList",method:"post",data:e})}},"91b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var l=a("b775");function n(e){return Object(l["a"])({url:"/upload/image",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/upload/pem",method:"post",data:e})}},a325:function(e,t,a){},c62b:function(e,t,a){"use strict";a("a325")},d745:function(e,t,a){"use strict";a("647f")}}]);