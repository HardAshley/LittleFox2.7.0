(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0949":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e25e");var n={props:{notice:{type:Object,default:{}}},data:function(){return{showNotice:!1,safeAreaHeight:0}},mounted:function(){var e=this.getTime(),i=uni.getStorageSync("lastNotice");t("log","ss",i," at components/notice/notice.vue:31"),(!i||e-i>1)&&this.setData({safeAreaHeight:getApp().globalData.safeAreaHeight,showNotice:!0})},methods:{doClose:function(){this.showNotice=!1;var t=this.getTime();uni.setStorageSync("lastNotice",t)},toNotice:function(){this.doClose(),uni.navigateTo({url:"/pages/article/article?type=notice"})},getTime:function(){return parseInt((new Date).getTime()/1e3)}}};e.default=n}).call(this,i("0de9")["log"])},1424:function(t,e,i){"use strict";i.r(e);var n=i("e9de"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},1829:function(t,e,i){"use strict";i.r(e);var n=i("45ea"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"1ed9":function(t,e,i){var n=i("9985");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("4919bf6b",n,!0,{sourceMap:!1,shadowMode:!1})},2375:function(t,e,i){"use strict";var n=i("a02c"),a=i.n(n);a.a},4050:function(t,e,i){"use strict";i.r(e);var n=i("d6d4"),a=i("1424");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("c9f5");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"24a61342",null,!1,n["a"],void 0);e["default"]=r.exports},"44ade":function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("c7eb")),s=n(i("1da1"));i("a9e3"),i("ac1f"),i("5319"),i("498a"),i("14d9"),i("d3b7"),i("e9c4"),i("8a79"),i("c975"),i("e25e"),i("caad");var o=n(i("acd4")),r=n(i("4050"));i("45ab"),i("485c"),i("e1a1"),i("9283");var c=getApp(),l={components:{TextComponent:o.default,Welcome:r.default},props:{aiName:{type:String,default:""},aiIndex:{type:Number,default:0},activeAiIndex:{type:Number,default:0},welcome:{type:Object,default:{}},userAvatar:{type:String,default:"/static/img/ic_user.png"}},watch:{activeAiIndex:{handler:function(){this.aiIndex>=this.activeAiIndex-1&&this.aiIndex<=this.activeAiIndex+1&&null===this.lists&&this.getHistoryMsg()},immediate:!0}},data:function(){return{siteroot:"",group_id:0,lists:null,message:"",writingText:"",writing:!1,page:1,pagesize:10,scrollTop:0,copyBtnLeft:-200,copyBtnTop:0,copyBtnText:"",copyBtnTime:0,textStacks:[],textOutputSi:0,fetchCtrl:null}},mounted:function(){this.setData({siteroot:c.globalData.siteroot.replace("/web.php","")})},methods:{sendText:function(t){var e=this;return(0,s.default)((0,a.default)().mark((function i(){var n,s,o,r,l,d,u,f,g,p,h,v,b,m;return(0,a.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.writing){i.next=2;break}return i.abrupt("return");case 2:if(t=e.trim(t),t){i.next=6;break}return c.globalData.util.message("请输入你的问题"),i.abrupt("return");case 6:return e.textOutputSi&&(clearInterval(e.textOutputSi),e.textOutputSi=0,e.textStacks=[]),e.lists.push({user:"我",message:t}),e.setMessage(""),e.writing=!0,e.scrollToBottom(),n=new Headers,n.append("Content-Type","application/json"),n.append("X-site",uni.getStorageSync("sitecode")),s=e.siteroot+"/web.php/chat/sendText",o={message:t,ai:e.aiName},e.fetchCtrl=new AbortController,i.next=19,fetch(s,{method:"POST",signal:e.fetchCtrl.signal,headers:n,body:JSON.stringify(o)});case 19:if(r=i.sent,r.ok){i.next=24;break}return e.writing=!1,c.globalData.util.message(r.statusText),i.abrupt("return");case 24:l=r.body.getReader(),d=new TextDecoder("utf-8"),u=!1,f="",e.textOutputSi=setInterval((function(){e.textStacks.length>0?(e.writingText+=e.textStacks.shift(),e.scrollToBottom()):e.writing||(clearInterval(e.textOutputSi),e.textOutputSi=0,e.writingText&&e.lists.push({user:"AI",message:e.writingText}),e.writingText="",setTimeout((function(){e.scrollToBottom()}),200))}),20);case 29:if(u){i.next=53;break}return e.scrollToBottom(),i.next=33,l.read();case 33:if(g=i.sent,p=g.value,h=g.done,!p){i.next=50;break}if(v=d.decode(p),"\n"!==v||!f.endsWith("\n")){i.next=40;break}return i.abrupt("continue",29);case 40:if(!v){i.next=50;break}if(-1===v.indexOf("[error]")){i.next=48;break}return e.writing=!1,e.writingText="",e.lists.pop(),b=v.replace("[error]",""),-1!==b.indexOf("请登录")?(e.setMessage(t),c.globalData.util.toLogin(b)):-1!==b.indexOf("请充值")?c.globalData.util.message(b,"error",(function(){this.toPay()})):c.globalData.util.message(b,"error"),i.abrupt("break",53);case 48:for(e.writing=!0,m=0;m<v.length;m++)e.textStacks.push(v[m]);case 50:u=h,i.next=29;break;case 53:e.writing=!1;case 54:case"end":return i.stop()}}),i)})))()},stopFetch:function(){var e=this,i=this.writingText;this.writing=!1,t("log","stopFetch",this.aiIndex," at components/chatMsgList/chatMsgList.vue:251"),this.fetchCtrl.abort(),setTimeout((function(){i||e.lists.pop()}),50)},retry:function(t){var e=this;uni.showModal({title:this.$lang("提示"),content:this.$lang("确定重新回答吗？"),confirmText:this.$lang("确定"),cancelText:this.$lang("取消"),success:function(i){i.confirm&&e.sendText(e.lists[t].message)}})},setMessage:function(t){this.$emit("setMessage",t)},getHistoryMsg:function(){var t=this;c.globalData.util.request({url:"/chat/getHistoryMsg",data:{ai:this.aiName,page:this.page,pagesize:this.pagesize},loading:!1}).then((function(e){t.setData({lists:e.data.list}),t.$nextTick((function(){setTimeout((function(){t.scrollToBottom()}),300)}))}))},scrollToBottom:function(){var t=this;setTimeout((function(){var e=uni.createSelectorQuery().in(t);e.select(".list").boundingClientRect((function(e){e&&t.setData({scrollTop:parseInt(e.height)})})),e.exec((function(t){}))}),200)},copyText:function(t){var e=document.createElement("textarea");e.value=t,e.readOnly="readOnly",e.style="width:0;height:0;",document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length),c.globalData.util.message("已复制"),document.execCommand("copy"),e.remove(),this.hideCopyBtn()},quickMessage:function(t){this.$emit("setMessage",t)},showCopyBtn:function(t){var e=this,i=uni.createSelectorQuery().in(this);i.select(".list").boundingClientRect((function(i){if(i){var n=parseInt(t.touches[0].pageX),a=parseInt(t.touches[0].pageY-i.top);a<0&&(a+=70),e.copyBtnLeft=n-30,e.copyBtnTop=a-60,e.copyBtnText=t.currentTarget.dataset.text,e.copyBtnTime=e.getTime()}})),i.exec((function(t){}))},getTime:function(){return(new Date).getTime()},hideCopyBtn:function(){var t=this.getTime();this.copyBtnLeft>0&&t-this.copyBtnTime>500&&(this.copyBtnLeft=-200,this.copyBtnText="",this.copyBtnTime=0)},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},isGpt4:function(t){return["openai4","azure_openai4","wenxin4","claude2","hunyuan4"].includes(t)},toPay:function(){this.isGpt4(this.aiName)?uni.navigateTo({url:"/pages/pay/model4"}):uni.navigateTo({url:"/pages/pay/pay"})}}};e.default=l}).call(this,i("0de9")["log"])},"45ea":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("841c"),i("c975"),i("e25e"),i("5319"),i("d3b7"),i("159b"),i("caad");var n=getApp(),a={data:function(){return{isLogin:!1,siteroot:"",message:"",scrollTop:0,page_title:"",chatSetting:{},balance_model4:0,model4Name:"",userinfo:{},aiList:[],activeAiIndex:0,notice:{}}},computed:{welcome:function(){var t=this.page_title,e="",i=this.chatSetting.tips;return e=this.chatSetting.welcome||this.chatSetting.tips?this.chatSetting.welcome:this.$lang("请输入你的问题"),{title:t,desc:e,tips:i}},userAvatar:function(){return this.userinfo&&this.userinfo.avatar?this.userinfo.avatar:"/static/img/ic_user.png"}},onLoad:function(t){var e=this,i=0,a=window.location.search;a&&-1!=a.indexOf("tuid=")&&(a=a.split("tuid=")[1],i=parseInt(a),i&&uni.setStorageSync("tuid",i)),n.globalData.util.getSetting().then((function(t){e.setData({page_title:t.page_title,hasModel4:t.hasModel4,model4Name:t.model4Name}),uni.setNavigationBarTitle({title:t.page_title}),e.setData({siteroot:n.globalData.siteroot.replace("/web.php",""),aiList:t.aiList});var i=uni.getStorageSync("ai");i&&t.aiList.forEach((function(t,n){t.name===i&&e.switchAi(n)}))})),this.getChatSetting(),n.globalData.util.checkLogin().then((function(){e.setData({isLogin:!0}),e.getUserInfo()})),setTimeout((function(){e.getNotice()}),2e3)},methods:{inputFocus:function(){this.isLogin||n.globalData.util.toLogin("请登录")},sendText:function(){this.$refs.chatMsgList[this.activeAiIndex].sendText(this.message)},sendConfirm:function(){var t=this;setTimeout((function(){t.sendText()}),50)},setMessage:function(e){t("log","message",e," at pages/index/index.vue:131"),this.message=e},quickMessage:function(t){this.message=t},getChatSetting:function(){var t=this;n.globalData.util.request({url:"/chat/getChatSetting"}).then((function(e){t.setData({chatSetting:e.data})}))},getUserInfo:function(){var t=this;n.globalData.util.request({url:"/user/info",loading:!1}).then((function(e){t.setData({userinfo:e.data})})).catch((function(t){}))},onTabChange:function(t){this.switchAi(t.index)},onSwiperChange:function(t){var e=t.target.current||t.detail.current;this.switchAi(e)},switchAi:function(t){this.isGpt4(t)&&n.globalData.util.message(window.langTrans("您已进入【"+this.model4Name+"】，开始按字数计费")),this.activeAiIndex=t,uni.setStorage("ai",this.aiList[t].name)},isGpt4:function(t){var e=this.aiList[t].name;return["openai4","azure_openai4","wenxin4","claude2","hunyuan4"].includes(e)},getNotice:function(){var t=this;n.globalData.util.request({url:"/login/getNotice",data:{platform:"h5"},loading:!1}).then((function(e){t.notice=e.data}))}}};e.default=a}).call(this,i("0de9")["log"])},"586d":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".box-notice[data-v-06d882cb]{position:fixed;width:100%;left:0;top:0;bottom:%?110?%;right:0;z-index:99;background:rgba(0,0,0,.3);display:flex;justify-content:center;align-items:center}.box-notice .pannel[data-v-06d882cb]{width:85%;background-color:#fff;border-radius:%?20?%;overflow:hidden;z-index:2}.box-notice .title[data-v-06d882cb]{width:100%;box-sizing:border-box;padding:%?30?% %?50?% %?20?% %?50?%;font-weight:700;font-size:%?32?%}.box-notice .btn-close[data-v-06d882cb]{position:absolute;top:0;right:0;width:%?80?%;height:%?80?%;display:flex;justify-content:center;align-items:center}.box-notice .btn-close uni-image[data-v-06d882cb]{width:%?48?%;height:%?48?%}.box-notice .content[data-v-06d882cb]{padding:0 %?50?% %?30?% %?50?%;line-height:%?48?%;font-size:%?32?%;color:#333;min-height:%?120?%;max-height:%?640?%;overflow:hidden;overflow-y:auto}.box-notice .content img[data-v-06d882cb]{max-width:100%!important}.box-notice .btn-link[data-v-06d882cb]{color:#1d8ccc}.box-notice .footer[data-v-06d882cb]{text-align:center;margin:%?20?% 0 0 0}.box-notice .btn[data-v-06d882cb]{display:inline-block;margin:0;font-size:%?32?%;border-radius:%?16?%;width:50%;height:%?88?%;line-height:%?88?%;background:none}.box-notice .btn[data-v-06d882cb]:active{opacity:.6}.btn-agree[data-v-06d882cb]{color:#05c160}.btn-refuse[data-v-06d882cb]{background-color:#f2f2f2;color:#666}",""]),t.exports=e},"719e":function(t,e,i){"use strict";var n=i("1ed9"),a=i.n(n);a.a},"71f0":function(t,e,i){"use strict";i.r(e);var n=i("e6ab"),a=i("7818");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("e016");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"06d882cb",null,!1,n["a"],void 0);e["default"]=r.exports},7818:function(t,e,i){"use strict";i.r(e);var n=i("0949"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"8a79":function(t,e,i){"use strict";var n=i("23e7"),a=i("4625"),s=i("06cf").f,o=i("50c4"),r=i("577e"),c=i("5a34"),l=i("1d80"),d=i("ab13"),u=i("c430"),f=a("".endsWith),g=a("".slice),p=Math.min,h=d("endsWith"),v=!u&&!h&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!v&&!h},{endsWith:function(t){var e=r(l(this));c(t);var i=arguments.length>1?arguments[1]:void 0,n=e.length,a=void 0===i?n:p(o(i),n),s=r(t);return f?f(e,s,a):g(e,a-s.length,a)===s}})},"96bb":function(t,e,i){var n=i("586d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("facb5dcc",n,!0,{sourceMap:!1,shadowMode:!1})},9985:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".msg-list[data-v-0b6d44fc]{width:100%;height:100%;top:0;bottom:%?132?%;left:0;box-sizing:border-box;overflow:hidden}.message[data-v-0b6d44fc]{display:flex;justify-content:flex-start;padding:%?40?% %?40?%;border-top:%?2?% solid #eee}.message[data-v-0b6d44fc]:last-child{border-bottom:0}.message .text[data-v-0b6d44fc]{width:100%;color:#343541;line-height:%?52?%;font-size:%?32?%;word-break:break-all;padding:%?4?% 0;overflow:hidden}.message .text span[data-v-0b6d44fc]{display:inline}.message .avatar[data-v-0b6d44fc]{width:%?48?%;height:%?48?%;background:#04babe;margin-right:%?30?%;color:#fff;font-size:%?28?%;border-radius:%?4?%;display:flex;align-items:center;justify-content:center;margin-top:%?6?%;overflow:hidden}.message .avatar uni-image[data-v-0b6d44fc],\n.message .avatar img[data-v-0b6d44fc]{width:%?48?%;height:%?48?%}.btn-copy[data-v-0b6d44fc]{position:absolute;width:%?120?%;height:%?60?%;line-height:%?60?%;color:#04babe;z-index:99;background:#fff;text-align:center;border-radius:%?10?%;font-size:%?28?%;box-shadow:0 0 %?20?% rgba(0,0,0,.2)}.tools[data-v-0b6d44fc]{display:flex;align-items:center;justify-content:space-between;margin-top:%?12?%}.tools .btn[data-v-0b6d44fc]{font-size:%?32?%;color:#04babe;display:flex;align-items:center;float:left;margin-right:%?10?%}.tools .btn[data-v-0b6d44fc]:active{opacity:.6}.tools .btn .icon[data-v-0b6d44fc]{width:%?32?%;height:%?32?%;margin-right:%?6?%}",""]),t.exports=e},"9bc1":function(t,e,i){var n=i("fd89");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("62d39200",n,!0,{sourceMap:!1,shadowMode:!1})},a02c:function(t,e,i){var n=i("ad49");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5e562024",n,!0,{sourceMap:!1,shadowMode:!1})},ad49:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.page[data-v-23cb3d44]{background:#f7f7f8;position:absolute;width:100%;left:0;right:0;top:0;bottom:0;overflow:hidden}.page .tabs[data-v-23cb3d44]{position:absolute;top:0;left:0;width:100%;height:%?88?%;background:#fff}.page .lists[data-v-23cb3d44]{position:absolute;left:0;right:0;top:%?94?%;bottom:%?160?%;width:100%;height:auto}.page .box-input[data-v-23cb3d44]{position:absolute;width:100%;left:0;right:0;bottom:0;box-sizing:border-box;padding:%?40?% 0;border-top:1px solid #eee;background:#fff}.page .box-input .input[data-v-23cb3d44]{width:%?690?%;margin:0 %?30?%;position:relative;box-sizing:border-box;background:#f7f7f8;border:1px solid #fff}.page .box-input .input uni-textarea[data-v-23cb3d44]{width:%?580?%;padding:%?20?% %?10?% %?20?% %?20?%;border-radius:%?10?%;line-height:%?40?%;max-height:%?800?%;overflow-x:hidden;overflow-y:auto;transition:all .1s ease-in-out}.page .box-input .input .btn-send[data-v-23cb3d44]{position:absolute;right:0;bottom:0;width:%?100?%;height:%?80?%;padding:0;border:none;border-radius:%?10?%;background:none;display:flex;align-items:center;justify-content:center;z-index:9}.page .box-input .input .btn-send uni-image[data-v-23cb3d44]{width:%?40?%}.page .box-input .input .btn-send[data-v-23cb3d44]::after{display:none}.page .box-input .input .btn-send[data-v-23cb3d44]:active{background:#f2f2f2}.gold .lists[data-v-23cb3d44]{bottom:%?200?%}.gold .box-input .input[data-v-23cb3d44]{background:#fffef8;border:1px solid #ffa41a;border-radius:%?20?%}.gold .box-input .input uni-textarea[data-v-23cb3d44]{min-height:%?80?%}.account[data-v-23cb3d44]{margin:%?20?% %?30?%;padding:%?16?% %?24?% %?16?% %?24?%;box-sizing:border-box;\r\n  /* background: #f3f6f9; */border-radius:%?10?%;display:flex;justify-content:space-between;align-items:center}.account .balance[data-v-23cb3d44]{color:#666;font-size:%?24?%}.account .balance uni-text[data-v-23cb3d44]{color:#04babe;margin-right:%?6?%}.account .btn-pay[data-v-23cb3d44]{display:inline-block;color:#04babe;margin-left:%?20?%;font-size:%?24?%}',""]),t.exports=e},b9c1:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uvTabs:i("fc75").default,chatMsgList:i("f5d4").default,notice:i("71f0").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page",class:{gold:t.aiList.length>0&&t.isGpt4(t.activeAiIndex)}},[i("uv-tabs",{staticClass:"tabs",attrs:{list:t.aiList,current:t.activeAiIndex,"key-name":"alias","line-color":"#04BABE"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTabChange.apply(void 0,arguments)}}}),i("v-uni-swiper",{staticClass:"lists",attrs:{current:t.activeAiIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onSwiperChange.apply(void 0,arguments)}}},t._l(t.aiList,(function(e,n){return i("v-uni-swiper-item",{key:n,staticClass:"swiper-item"},[i("chatMsgList",{ref:"chatMsgList",refInFor:!0,attrs:{"ai-name":e.name,"ai-index":n,"active-ai-index":t.activeAiIndex,welcome:t.welcome,"user-avatar":t.userAvatar},on:{setMessage:function(e){arguments[0]=e=t.$handleEvent(e),t.setMessage.apply(void 0,arguments)}}})],1)})),1),i("v-uni-view",{staticClass:"box-input"},[i("v-uni-view",{staticClass:"input"},[i("v-uni-textarea",{attrs:{type:"text","confirm-type":"send","auto-height":!0,placeholder:t._f("lang")("输入你的问题"),maxlength:"3000","cursor-spacing":"0"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.sendConfirm.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputFocus.apply(void 0,arguments)}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),i("v-uni-button",{staticClass:"btn-send",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendText.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{mode:"widthFix",src:"/static/images/ic_send.png"}})],1)],1)],1),i("notice",{attrs:{notice:t.notice}})],1)},s=[]},c9f5:function(t,e,i){"use strict";var n=i("9bc1"),a=i.n(n);a.a},d50a:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-scroll-view",{staticClass:"msg-list",attrs:{"scroll-x":!1,"scroll-y":!0,"scroll-with-animation":!1,"scroll-top":t.scrollTop},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideCopyBtn.apply(void 0,arguments)}}},[t.lists&&t.lists.length>0?i("v-uni-view",{staticClass:"list"},[t._l(t.lists,(function(e,n){return["AI"==e.user?i("v-uni-view",{key:n+"_0",staticClass:"message",staticStyle:{background:"#f7f7f8"},attrs:{"data-index":n}},[i("v-uni-view",{staticClass:"avatar"},[i("img",{attrs:{src:"/static/img/ic_ai.png"}})]),i("v-uni-view",{staticClass:"text markdown-body"},[i("textComponent",{attrs:{text:e.message}}),i("v-uni-view",{staticClass:"tools"},[i("v-uni-view",[i("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.copyText(e.message)}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_copy.png"}}),i("span",[t._v(t._s(t._f("lang")("复制内容")))])],1)],1),i("v-uni-view",[i("v-uni-view",{staticClass:"btn",staticStyle:{"margin-right":"0"},attrs:{title:t._f("lang")("重新回答")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.retry(n-1)}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_retry.png"}})],1)],1)],1)],1)],1):i("v-uni-view",{staticClass:"message",staticStyle:{background:"#fff"}},[i("v-uni-view",{staticClass:"avatar",staticStyle:{background:"#9aa37e"}},[i("img",{attrs:{src:t.userAvatar}})]),i("v-uni-view",{staticClass:"text markdown-body",attrs:{"data-text":e.message},on:{longpress:function(e){arguments[0]=e=t.$handleEvent(e),t.showCopyBtn.apply(void 0,arguments)}}},[i("textComponent",{attrs:{text:e.message}})],1)],1)]})),t.writing||t.writingText?i("v-uni-view",{staticClass:"message",staticStyle:{background:"#f7f7f8"}},[i("v-uni-view",{staticClass:"avatar"},[i("img",{attrs:{src:"/static/img/ic_ai.png"}})]),i("v-uni-view",{staticClass:"text markdown-body"},[i("textComponent",{attrs:{text:t.writingText,writing:!(!t.writing&&!t.writingText)}}),i("v-uni-view",{staticClass:"tools"},[i("v-uni-view",[i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stopFetch.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/ic_stop.png"}}),i("span",[t._v(t._s(t._f("lang")("停止回复")))])],1)],1)],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"btn-copy",style:"left:"+t.copyBtnLeft+"px;top:"+t.copyBtnTop+"px;",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copyText(t.copyBtnText)}}},[t._v(t._s(t._f("lang")("复制")))])],2):i("welcome",{attrs:{module:"chat",title:t.welcome.title,desc:t.welcome.desc,tips:t.welcome.tips},on:{use:function(e){arguments[0]=e=t.$handleEvent(e),t.quickMessage.apply(void 0,arguments)}}})],1)},a=[]},d6d4:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"welcome"},[i("v-uni-view",{staticClass:"row row-ai"},[i("v-uni-view",{staticClass:"message"},[i("v-uni-view",{staticClass:"avatar"},[i("img",{attrs:{src:"/static/img/ic_ai.png"}})]),i("v-uni-view",{staticClass:"text markdown-body"},[t.welcomeTitle?i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.welcomeTitle))]):t._e(),t.welcomeDesc?i("v-uni-view",{staticClass:"desc",domProps:{innerHTML:t._s(t.welcomeDesc)}}):t._e(),t.welcomeTips.length>0?i("v-uni-view",{staticClass:"tips"},[i("ul",t._l(t.welcomeTips,(function(e){return e?i("li",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.quickMessage(e)}}},[t._v(t._s(e))]):t._e()})),0)]):t._e()],1)],1)],1)],1)},a=[]},dbc7:function(t,e,i){"use strict";i.r(e);var n=i("44ade"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},e016:function(t,e,i){"use strict";var n=i("96bb"),a=i.n(n);a.a},e030:function(t,e,i){"use strict";i.r(e);var n=i("b9c1"),a=i("1829");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("2375");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"23cb3d44",null,!1,n["a"],void 0);e["default"]=r.exports},e6ab:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showNotice&&t.notice.content?i("v-uni-view",{staticClass:"box-notice",style:"padding-bottom: "+t.safeAreaHeight+"rpx;"},[i("v-uni-view",{staticClass:"pannel"},[i("v-uni-view",{staticClass:"title"},[t._v("通知")]),i("v-uni-view",{staticClass:"content",domProps:{innerHTML:t._s(t.notice.content)}}),i("v-uni-view",{staticClass:"footer"},[i("v-uni-button",{staticClass:"btn btn-refuse",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doClose.apply(void 0,arguments)}}},[t._v("关闭")]),i("v-uni-button",{staticClass:"btn btn-agree",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toNotice.apply(void 0,arguments)}}},[t._v("查看详情")])],1)],1)],1):t._e()},a=[]},e9de:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("ac1f"),i("5319"),i("5b81");var n={props:{module:{type:String,default:"chat"},hasModel4:{type:Boolean,default:!1},title:{type:String,default:""},desc:{type:String,default:""},tips:{type:String,default:""}},computed:{welcomeTitle:function(){return this.title?"chat"===this.module?this.$lang("你好！我是")+this.title:"cosplay"===this.module?this.$lang("我是")+this.title:this.title:""},welcomeDesc:function(){return this.desc?this.desc.replaceAll("\n","<br>"):"cosplay"===this.module?this.$lang("请输入你的问题"):""},welcomeTips:function(){return this.tips?this.tips.split("\n"):[]}},methods:{quickMessage:function(t){this.$emit("use",t)}}};e.default=n},f5d4:function(t,e,i){"use strict";i.r(e);var n=i("d50a"),a=i("dbc7");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("719e");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"0b6d44fc",null,!1,n["a"],void 0);e["default"]=r.exports},fd89:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.welcome .message[data-v-24a61342]{display:flex;justify-content:flex-start;padding:%?40?% %?40?%}.welcome .message[data-v-24a61342]:last-child{border-bottom:0}.welcome .message .text[data-v-24a61342]{width:%?560?%;color:#343541;line-height:%?52?%;font-size:%?32?%;word-break:break-all;overflow:hidden;background-color:#fff;padding:%?30?%;border-radius:%?20?%}.welcome .message .text span[data-v-24a61342]{display:inline}.welcome .message .avatar[data-v-24a61342]{width:%?48?%;height:%?48?%;background:#04babe;margin-right:%?30?%;color:#fff;font-size:%?28?%;border-radius:%?4?%;display:flex;align-items:center;justify-content:center;margin-top:%?6?%;overflow:hidden}.welcome .message .avatar uni-image[data-v-24a61342],\r\n.welcome .message .avatar img[data-v-24a61342]{width:%?48?%;height:%?48?%}.welcome .markdown-body uni-view[data-v-24a61342]{display:block}.welcome .title[data-v-24a61342]{color:#222;font-size:%?36?%;font-weight:600;letter-spacing:%?2?%;line-height:%?64?%;transition:color .1s ease-in-out}.welcome .desc[data-v-24a61342]{margin:%?20?% 0!important}.welcome .tips[data-v-24a61342]{padding:%?20?%}.welcome .tips ul[data-v-24a61342],\r\n.welcome .tips li[data-v-24a61342]{list-style:none;margin:0;padding:0}.welcome .tips li[data-v-24a61342]{background:#f7f7f8;border-radius:%?8?%;margin-bottom:%?26?%;padding:%?24?% %?30?%;font-size:%?28?%;color:#444;line-height:%?32?%;transition:background .1s ease-in-out;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.welcome .tips li[data-v-24a61342]:hover, .welcome .tips li[data-v-24a61342]:active{background:#eff0f0;color:#222}',""]),t.exports=e}}]);