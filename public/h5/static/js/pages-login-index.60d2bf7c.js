(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{1977:function(t,a,n){"use strict";n.r(a);var e=n("a101"),i=n("88f8");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return i[t]}))}(o);n("351b");var s=n("f0c5"),l=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"ba907d5a",null,!1,e["a"],void 0);a["default"]=l.exports},"351b":function(t,a,n){"use strict";var e=n("e62f"),i=n.n(e);i.a},"729b":function(t,a,n){var e=n("24fb");a=e(!1),a.push([t.i,".page[data-v-ba907d5a]{padding:%?40?% %?100?%;position:absolute;width:100%;height:100%;left:0;right:0;bottom:0;box-sizing:border-box}.title[data-v-ba907d5a]{font-size:%?48?%;text-align:center;margin-top:%?100?%;letter-spacing:%?4?%;color:#333}.btn-group[data-v-ba907d5a]{margin-top:%?200?%}.btn[data-v-ba907d5a]{background:#04babe;border-radius:%?10?%;width:100%;height:%?98?%;font-size:%?36?%;margin:0 auto;letter-spacing:%?2?%;display:flex;justify-content:center;align-items:center;color:#fff}.btn[data-v-ba907d5a]:active{opacity:.8}.btn uni-image[data-v-ba907d5a]{width:%?64?%;height:%?64?%;margin-right:%?20?%}.btn-phone[data-v-ba907d5a]{color:#04babe;background:#fff;border:%?2?% solid #04babe;margin-top:%?50?%;box-sizing:border-box;height:%?92?%}.btn-submit[data-v-ba907d5a]{height:%?88?%;margin-top:%?40?%}.agree[data-v-ba907d5a]{width:100%;font-size:%?28?%;color:#999;position:absolute;left:0;bottom:0;text-align:center;cursor:pointer;background:#fff;padding:%?20?% 0 %?50?% 0}.agree uni-text[data-v-ba907d5a]{color:#04babe}.container[data-v-ba907d5a]{width:%?750?%;height:400px;position:relative;top:-20px;transition:left .15s ease-in-out}.title-container[data-v-ba907d5a]{font-size:20px;text-align:center;height:48px;line-height:48px;margin-bottom:20px;letter-spacing:2px}.container[data-v-ba907d5a]{width:100%;padding-top:50px}.form .form-item[data-v-ba907d5a]{display:flex;align-items:center;position:relative;margin-bottom:%?40?%}.form .form-item .input[data-v-ba907d5a]{width:100%;border:none;height:%?88?%;line-height:%?88?%;padding:0 %?88?%;background:#ebebeb;border-radius:%?8?%}.form .form-item .icon[data-v-ba907d5a]{width:%?36?%;height:%?36?%;position:absolute;left:%?30?%;top:%?26?%}.form .form-item .eye[data-v-ba907d5a]{width:%?36?%;height:%?36?%;position:absolute;right:%?30?%;top:%?26?%;z-index:10}",""]),t.exports=a},"88f8":function(t,a,n){"use strict";n.r(a);var e=n("d630"),i=n.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){n.d(a,t,(function(){return e[t]}))}(o);a["default"]=i.a},a101:function(t,a,n){"use strict";n.d(a,"b",(function(){return e})),n.d(a,"c",(function(){return i})),n.d(a,"a",(function(){}));var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return t.pageIsLoad?n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t._f("lang")("欢迎登录")))]),"wechat"===t.loginType?n("v-uni-view",{staticClass:"btn-group"},[n("v-uni-button",{staticClass:"btn",style:"margin-top:"+(t.login_wechat&&!t.login_phone?"300rpx;":"160rpx;"),on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.wxLogin.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_wechat.png"}}),n("v-uni-text",[t._v(t._s(t._f("lang")("微信授权登录")))])],1),t.login_phone?n("v-uni-button",{staticClass:"btn btn-phone",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.switchToPhone.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t._f("lang")("手机号登录")))])],1):t._e()],1):t._e(),"phone"===t.loginType?n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"form"},[n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_phone.png"}}),n("v-uni-input",{staticClass:"input",attrs:{type:"text","data-name":"phone",maxlength:"11",placeholder:t._f("lang")("手机号"),value:t.phone},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_pwd.png"}}),t.pwdShow?n("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"20","data-name":"password",placeholder:t._f("lang")("登录密码"),value:t.password},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"20","data-name":"password",placeholder:t._f("lang")("登录密码"),value:t.password},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.inputChange.apply(void 0,arguments)}}}),t.pwdShow?n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye.png"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hidePwd.apply(void 0,arguments)}}}):n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye_open.png"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showPwd.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-button",{staticClass:"btn btn-submit",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.doLogin.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("确定登录")))])],1),n("v-uni-view",{staticClass:"form-item",staticStyle:{"justify-content":"space-between",color:"#04babe",padding:"0 36rpx","font-size":"28rpx"}},[n("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toReg.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("注册账号")))]),n("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toReset.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("忘记密码")))])],1)],1)],1):t._e(),n("v-uni-view",{staticClass:"agree"},[t._v(t._s(t._f("lang")("登录即表示同意"))),n("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toDoc("service")}}},[t._v(t._s(t._f("lang")("《服务协议》")))]),t._v(t._s(t._f("lang")("和"))),n("v-uni-text",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toDoc("privacy")}}},[t._v(t._s(t._f("lang")("《隐私政策》")))])],1)],1):t._e()},i=[]},d630:function(t,a,n){"use strict";n("7a82");var e=n("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e(n("ade3")),o=getApp(),s={data:function(){return{pageIsLoad:!1,sitecode:"",login_phone:1,login_wechat:0,loginType:"wechat",phone:"",password:"",is_agree:!1,pwdShow:!1,backurl:"pages/index/index"}},onLoad:function(t){var a=this,n=uni.getStorageSync("phone");n&&this.setData({phone:n}),t.backurl&&(this.backurl=decodeURIComponent(t.backurl));var e=uni.getStorageSync("sitecode");this.setData({sitecode:e||""}),o.globalData.util.getSetting().then((function(t){a.setData({login_phone:t.login_phone,login_wechat:t.login_wechat,loginType:t.login_wechat?"wechat":"phone",pageIsLoad:!0})}))},onShow:function(){uni.setNavigationBarTitle({title:this.$lang("登录")})},methods:{switchToPhone:function(){this.loginType="phone"},doLogin:function(){var t=this,a=this.sitecode,n=this.phone,e=this.password;n?e?o.globalData.util.request({url:"/login/login",data:{phone:n,password:e,sitecode:a}}).then((function(a){uni.setStorageSync("phone",n),uni.setStorageSync("token",a.data.token),o.globalData.util.message(a.message,"success"),uni.redirectTo({url:t.backurl,fail:function(){uni.reLaunch({url:"/pages/index/index"})}})})):o.globalData.util.message("请输入登录密码"):o.globalData.util.message("请输入手机号")},wxLogin:function(){var t=this.sitecode,a=uni.getStorageSync("tuid"),n="/web.php/login/h5?sitecode="+t+"&tuid="+a+"&from="+encodeURIComponent(this.backurl);window.location.href=n},toReg:function(){uni.navigateTo({url:"/pages/login/reg"})},toReset:function(){uni.navigateTo({url:"/pages/login/reset"})},toDoc:function(t){uni.navigateTo({url:"/pages/article/article?type="+t})},inputChange:function(t){var a=t.currentTarget.dataset.name,n=t.detail.value;this.setData((0,i.default)({},a,n))},showPwd:function(){this.setData({pwdShow:!0})},hidePwd:function(){this.setData({pwdShow:!1})},goHome:function(){uni.switchTab({url:"/pages/index/index"})}}};a.default=s},e62f:function(t,a,n){var e=n("729b");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=n("4f06").default;i("122a381a",e,!0,{sourceMap:!1,shadowMode:!1})}}]);