(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-index"],{1977:function(t,e,n){"use strict";n.r(e);var a=n("3154"),i=n("88f8");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("9a96");var s=n("f0c5"),l=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"1d9f0e9a",null,!1,a["a"],void 0);e["default"]=l.exports},3154:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pageIsLoad?n("v-uni-view",{staticClass:"page"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t._f("lang")("欢迎登录")))]),"wechat"===t.loginType?n("v-uni-view",{staticClass:"btn-group"},[n("v-uni-button",{staticClass:"btn",style:"margin-top:"+(t.login_wechat&&!t.login_phone?"300rpx;":"160rpx;"),on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wxLogin.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_wechat.png"}}),n("v-uni-text",[t._v(t._s(t._f("lang")("微信授权登录")))])],1),t.login_phone?n("v-uni-button",{staticClass:"btn btn-phone",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchToPhone.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t._f("lang")("手机号登录")))])],1):t._e()],1):t._e(),"phone"===t.loginType?n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"form"},[n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_phone.png"}}),n("v-uni-input",{staticClass:"input",attrs:{type:"text","data-name":"phone",maxlength:"11",placeholder:t._f("lang")("手机号"),value:t.phone},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/login/ic_pwd.png"}}),t.pwdShow?n("v-uni-input",{staticClass:"input",attrs:{type:"text",maxlength:"20","data-name":"password",placeholder:t._f("lang")("登录密码"),value:t.password},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}):n("v-uni-input",{staticClass:"input",attrs:{type:"password",maxlength:"20","data-name":"password",placeholder:t._f("lang")("登录密码"),value:t.password},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)}}}),t.pwdShow?n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hidePwd.apply(void 0,arguments)}}}):n("v-uni-image",{staticClass:"eye",attrs:{src:"/static/images/login/ic_eye_open.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPwd.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"form-item"},[n("v-uni-button",{staticClass:"btn btn-submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.doLogin.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("确定登录")))])],1),n("v-uni-view",{staticClass:"form-item",staticStyle:{"justify-content":"space-between",color:"#04babe",padding:"0 36rpx","font-size":"28rpx"}},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toReg.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("注册账号")))]),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toReset.apply(void 0,arguments)}}},[t._v(t._s(t._f("lang")("忘记密码")))])],1)],1)],1):t._e(),n("v-uni-view",{staticClass:"agree"},[t._v(t._s(t._f("lang")("登录即表示同意"))),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDoc("service")}}},[t._v(t._s(t._f("lang")("《服务协议》")))]),t._v(t._s(t._f("lang")("和"))),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDoc("privacy")}}},[t._v(t._s(t._f("lang")("《隐私政策》")))])],1)],1):t._e()},i=[]},"88f8":function(t,e,n){"use strict";n.r(e);var a=n("d630"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"9a96":function(t,e,n){"use strict";var a=n("a32d"),i=n.n(a);i.a},a32d:function(t,e,n){var a=n("c292");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("e9a4e83e",a,!0,{sourceMap:!1,shadowMode:!1})},c292:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".page[data-v-1d9f0e9a]{padding:%?40?% %?100?%;position:absolute;width:100%;height:100%;left:0;right:0;bottom:0;box-sizing:border-box}.title[data-v-1d9f0e9a]{font-size:%?48?%;text-align:center;margin-top:%?100?%;letter-spacing:%?4?%;color:#333}.btn-group[data-v-1d9f0e9a]{margin-top:%?200?%}.btn[data-v-1d9f0e9a]{background:#04babe;border-radius:%?10?%;width:100%;height:%?98?%;font-size:%?36?%;margin:0 auto;letter-spacing:%?2?%;display:flex;justify-content:center;align-items:center;color:#fff}.btn[data-v-1d9f0e9a]:active{opacity:.8}.btn uni-image[data-v-1d9f0e9a]{width:%?64?%;height:%?64?%;margin-right:%?20?%}.btn-phone[data-v-1d9f0e9a]{color:#04babe;background:#fff;border:%?2?% solid #04babe;margin-top:%?50?%;box-sizing:border-box;height:%?92?%}.btn-submit[data-v-1d9f0e9a]{height:%?88?%;margin-top:%?40?%}.agree[data-v-1d9f0e9a]{width:100%;font-size:%?28?%;color:#999;position:absolute;left:0;bottom:0;text-align:center;cursor:pointer;background:#fff;padding:%?20?% 0 %?50?% 0}.agree uni-text[data-v-1d9f0e9a]{color:#04babe}.container[data-v-1d9f0e9a]{width:%?750?%;height:400px;position:relative;top:-20px;transition:left .15s ease-in-out}.title-container[data-v-1d9f0e9a]{font-size:20px;text-align:center;height:48px;line-height:48px;margin-bottom:20px;letter-spacing:2px}.container[data-v-1d9f0e9a]{width:100%;padding-top:50px}.form .form-item[data-v-1d9f0e9a]{display:flex;align-items:center;position:relative;margin-bottom:%?40?%}.form .form-item .input[data-v-1d9f0e9a]{width:100%;border:none;height:%?88?%;line-height:%?88?%;padding:0 %?88?%;background:#ebebeb;border-radius:%?8?%}.form .form-item .icon[data-v-1d9f0e9a]{width:%?36?%;height:%?36?%;position:absolute;left:%?30?%;top:%?26?%}.form .form-item .eye[data-v-1d9f0e9a]{width:%?36?%;height:%?36?%;position:absolute;right:%?30?%;top:%?26?%;z-index:10}",""]),t.exports=e},d630:function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("ade3")),o=getApp(),s={data:function(){return{pageIsLoad:!1,sitecode:"",login_phone:1,login_wechat:0,loginType:"wechat",phone:"",password:"",is_agree:!1,pwdShow:!1,backurl:"pages/index/index"}},onLoad:function(t){var e=this,n=uni.getStorageSync("phone");n&&this.setData({phone:n}),t.backurl&&(this.backurl=decodeURIComponent(t.backurl));var a=uni.getStorageSync("sitecode");this.setData({sitecode:a||""}),setTimeout((function(){var t=o.globalData.login_phone,n=o.globalData.login_wechat;e.setData({login_phone:t,login_wechat:n,loginType:n?"wechat":"phone",pageIsLoad:!0})}),200)},onShow:function(){uni.setNavigationBarTitle({title:this.$lang("登录")})},methods:{switchToPhone:function(){this.loginType="phone"},doLogin:function(){var t=this,e=this.sitecode,n=this.phone,a=this.password;n?a?o.globalData.util.request({url:"/login/login",data:{phone:n,password:a,sitecode:e}}).then((function(e){uni.setStorageSync("phone",n),uni.setStorageSync("token",e.data.token),o.globalData.util.message(e.message,"success"),uni.redirectTo({url:t.backurl,fail:function(){uni.reLaunch({url:"/pages/index/index"})}})})):o.globalData.util.message("请输入登录密码"):o.globalData.util.message("请输入手机号")},wxLogin:function(){var t=this.sitecode,e=uni.getStorageSync("tuid"),n="/web.php/login/h5?sitecode="+t+"&tuid="+e+"&from="+encodeURIComponent(this.backurl);window.location.href=n},toReg:function(){uni.navigateTo({url:"/pages/login/reg"})},toReset:function(){uni.navigateTo({url:"/pages/login/reset"})},toDoc:function(t){uni.navigateTo({url:"/pages/article/article?type="+t})},inputChange:function(t){var e=t.currentTarget.dataset.name,n=t.detail.value;this.setData((0,i.default)({},e,n))},showPwd:function(){this.setData({pwdShow:!0})},hidePwd:function(){this.setData({pwdShow:!1})},goHome:function(){uni.switchTab({url:"/pages/index/index"})}}};e.default=s}}]);