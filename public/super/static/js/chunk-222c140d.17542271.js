(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-222c140d"],{"437d":function(t,e,a){"use strict";a("86c6")},7424:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container",staticStyle:{"padding-top":"10px"}},[a("el-tabs",{on:{"tab-click":t.switchTab},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[a("el-tab-pane",{attrs:{label:t._f("lang")("系统配置"),name:"system"}},[t.form?a("el-form",{ref:"systemForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:t._f("lang")("系统名称"),prop:"system_title"}},[a("el-input",{attrs:{placeholder:t._f("lang")("系统标题"),size:"small"},model:{value:t.form["system_title"],callback:function(e){t.$set(t.form,"system_title",e)},expression:"form['system_title']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("后台logo"),prop:"system_logo"}},[a("el-input",{attrs:{placeholder:t._f("lang")("输入图片地址或上传图片"),size:"small"},model:{value:t.form["system_logo"],callback:function(e){t.$set(t.form,"system_logo",e)},expression:"form['system_logo']"}}),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"",data:{type:"system_logo"},"http-request":t.uploadImage,"show-file-list":!1,multiple:!1}},[t.form["system_logo"]?a("img",{staticClass:"avatar",staticStyle:{height:"50px",width:"auto"},attrs:{src:t.form["system_logo"]}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{width:"210px",height:"50px","line-height":"50px"}})]),a("span",[t._v(t._s(t._f("lang")("210x50像素")))])],1),a("el-form-item",{attrs:{label:t._f("lang")("ICP备案号"),prop:"system_icp"}},[a("el-input",{attrs:{placeholder:t._f("lang")("ICP备案号"),size:"small"},model:{value:t.form["system_icp"],callback:function(e){t.$set(t.form,"system_icp",e)},expression:"form['system_icp']"}})],1),a("el-form-item",{attrs:{label:t._f("lang")("公网安备号"),prop:"system_gongan"}},[a("el-input",{attrs:{placeholder:t._f("lang")("公网安备号"),size:"small"},model:{value:t.form["system_gongan"],callback:function(e){t.$set(t.form,"system_gongan",e)},expression:"form['system_gongan']"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1),a("el-tab-pane",{attrs:{label:t._f("lang")("接口设置"),name:"api"}},[t.form?a("el-form",{ref:"apiForm",staticStyle:{padding:"30px 0"},attrs:{model:t.form,rules:t.formRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:t._f("lang")("接口通道"),prop:"channel"}},[a("el-radio-group",{model:{value:t.form["channel"],callback:function(e){t.$set(t.form,"channel",e)},expression:"form['channel']"}},[a("el-radio",{staticStyle:{margin:"0 20px 5px 0"},attrs:{label:"gpt",size:"mini"}},[t._v(t._s(t._f("lang")("直连")))]),a("el-radio",{attrs:{label:"agent",size:"mini"}},[t._v(t._s(t._f("lang")("反向代理")))])],1)],1),"agent"===t.form["channel"]?a("div",[a("el-alert",{staticStyle:{width:"400px","margin-left":"50px","margin-bottom":"30px"},attrs:{type:"warning",title:t._f("lang")("此方式速度快、稳定、承载能力强，推荐使用"),closable:!1}}),a("el-form-item",{attrs:{label:t._f("lang")("反代域名"),prop:"agent_host"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:t._f("lang")("http:// 或 https://域名 ，结尾不带/"),size:"small"},model:{value:t.form["agent_host"],callback:function(e){t.$set(t.form,"agent_host",e)},expression:"form['agent_host']"}}),a("p",[a("a",{staticClass:"text-primary",attrs:{href:"https://console.ttk.ink/api.php/link/ai/name/fandai",target:"_blank"}},[t._v(t._s(t._f("lang")("《反向代理配置教程》")))])])],1)],1):a("div",[a("el-alert",{staticStyle:{width:"400px","margin-left":"50px","margin-bottom":"30px"},attrs:{type:"warning",title:t._f("lang")("主程序运行在国外服务器时，使用直连"),closable:!1}})],1),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:t.doSubmit}},[t._v(t._s(t._f("lang")("保 存")))])],1)],1):t._e()],1)],1)],1)},l=[],n=(a("6506"),a("90e7")),o=a("b775");function i(t){return Object(o["a"])({url:"/upload/image",method:"post",data:t})}var r={data:function(){return{tabName:"system",form:null,formRules:{}}},mounted:function(){this.getSetting()},methods:{getSetting:function(){var t=this;Object(n["a"])({name:this.tabName}).then((function(e){t.form=e.data}))},switchTab:function(){this.getSetting()},doSubmit:function(){var t=this,e=null;"system"===this.tabName?e=this.$refs.systemForm:"api"===this.tabName&&(e=this.$refs.apiForm),e&&e.validate((function(e){e?Object(n["b"])({name:t.tabName,data:JSON.stringify(t.form)}).then((function(e){t.getSetting(),t.$message.success(e.message)})):t.$message.error(t.$lang("请填写必填项"))}))},uploadImage:function(t){var e=this,a=new FormData;a.append("file",t.file),t.data&&a.append("data",JSON.stringify(t.data)),i(a).then((function(a){"system_logo"===t.data.type&&e.$set(e.form,"system_logo",a.data.path),e.$message.success("上传成功")}))}}},m=r,c=(a("437d"),a("d8ce"),a("1805")),f=Object(c["a"])(m,s,l,!1,null,"cfec2d72",null);e["default"]=f.exports},"86c6":function(t,e,a){},"90e7":function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return n}));var s=a("b775");function l(t){return Object(s["a"])({url:"/setting/getSetting",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/setting/setSetting",method:"post",data:t})}},ce87:function(t,e,a){},d8ce:function(t,e,a){"use strict";a("ce87")}}]);